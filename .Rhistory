,"Brachyglanis frenatus"
,"Axelrodia lindeae"
,"Austrolebias vandenbergi"
,"Astyanax xavante"
,"Astyanax villwocki"
,"Astyanax multidens"
,"Astyanax guianensis"
,"Astyanax guaporensis"
,"Astyanax gandhiae"
,"Astyanax fasciatus"
,"Astyanax boliviensis"
,"Astyanax anterior"
,"Astyanax ajuricaba"
,"Apionichthys finis"
,"Aphyocharax alburnus"
,"Aphanotorulus phrixosoma"
,"Ancistrushoplogenys"
,"Ancistrus sericeus"
,"Ancistrus marcapatae"
,"Ageneiosus ucayalensis"
,"Ageneiosus apiaka"
)
library(rfishbase)
species_info <- species("Trachelyopterus porosus",
"Tatia simplex",
"Tatia reticulata",
"Tatia punctata",
"Symphysodon aequifasciatus",
"Sturisoma caquetae",
"Sternarchorhynchus mesensis",
"Stegostenopos cryptogenes",
"Spectrolebias costai",
"Simpsonichthys multiradiatus",
"Serrapinnus malabarbai",
"Serrapinnus gracilis",
"Sartor tucuruiense",
"Salminus hilarii",
"Rhinotocinclus variola",
"Rhadinoloricaria laani",
"Rhadinoloricaria ommation",
"Rhadinoloricaria condei",
"Pseudopimelodus pulcher",
"Prosomyleus rhomboidalis",
"Potamorrhaphis labiata",
"Polycentrus jundia",
"Poecilia branneri",
"Pnictes asphyxiatus",
"Platydoras birindellii",
"Plagioscions urinamensis",
"Pimelodus quadratus",
"Piabucinae rythrinoides",
"Piabucinae longata",
"Phenacogaster prolata",
"Phenacogaster pectinata",
"Phenacogaster ojitata",
"Petitella bleheri",
"Peckoltia bachi",
"Paralithoxus jariensis",
"Paralithoxus bovallii",
"Oxyropsis acutirostris",
"Orestias mundus",
"Odontostilbe stenodon",
"Nannoptopoma sternoptychum",
"Nannoptopoma spectabile",
"Nannacara adoketa",
"Myloplus torquatus",
"Micropoecilia bifurca",
"Metynnis lippincottianus",
"Megalonema amaxanthum",
"Lugubria dandara",
"Loricariichthys cashibo",
"Lipopterichthys carrioni",
"Leporinus yophorus",
"Leporinus torrenticola",
"Leporinus multimaculatus",
"Leporellus vittatus ",
"Laimosemion staecki",
"Knodus smithi",
"Knodus orteguasae",
"Imparfinis parvus",
"Imparfinis longicauda",
"Hypsolebias notatus",
,"Hyphessobrycon rosaceus"
,"Hyphessobrycon ellisi"
,"Heptapterus longicauda"
,"Hemidoras stuebelii"
,"Hemidoras boulengeri"
,"Hemibrycon orcesi"
,"Gephyromochlus leopardus"
,"Galeocharax gulo"
,"Ferrarissoaresia meridionalis"
,"Etsaputu relictum"
,"Duringlanis perugiae"
,"Duringlanis altae"
,"Denticetopsis macilenta"
,"Dekeyseria scaphirhyncha"
,"Corumbataia canoeiro"
,"Cordylancistrus platyrhynchus"
,"Copella nattereri"
,"Compsaraia compsa"
,"Charax michaeli"
,"Characidium boaevistae"
,"Centromochlus musaicus"
,"Centromochlus melanoleucus"
,"Bujurquina eurhinus"
,"Bryconops transitoria"
,"Bryconamericus orinocoensis"
,"Brachyplatystoma platynema"
,"Brachyglanis nocturnus"
,"Brachyglanis frenatus"
,"Axelrodia lindeae"
,"Austrolebias vandenbergi"
,"Astyanax xavante"
,"Astyanax villwocki"
,"Astyanax multidens"
,"Astyanax guianensis"
,"Astyanax guaporensis"
,"Astyanax gandhiae"
,"Astyanax fasciatus"
,"Astyanax boliviensis"
,"Astyanax anterior"
,"Astyanax ajuricaba"
,"Apionichthys finis"
,"Aphyocharax alburnus"
,"Aphanotorulus phrixosoma"
,"Ancistrushoplogenys"
,"Ancistrus sericeus"
,"Ancistrus marcapatae"
,"Ageneiosus ucayalensis"
,"Ageneiosus apiaka"
)
species_info <- species("Trachelyopterus porosus",
"Tatia simplex",
"Tatia reticulata",
"Tatia punctata",
"Symphysodon aequifasciatus",
"Sturisoma caquetae",
"Sternarchorhynchus mesensis",
"Stegostenopos cryptogenes",
"Spectrolebias costai",
"Simpsonichthys multiradiatus",
"Serrapinnus malabarbai",
"Serrapinnus gracilis",
"Sartor tucuruiense",
"Salminus hilarii",
"Rhinotocinclus variola",
"Rhadinoloricaria laani",
"Rhadinoloricaria ommation",
"Rhadinoloricaria condei",
"Pseudopimelodus pulcher",
"Prosomyleus rhomboidalis",
"Potamorrhaphis labiata",
"Polycentrus jundia",
"Poecilia branneri",
"Pnictes asphyxiatus",
"Platydoras birindellii",
"Plagioscions urinamensis",
"Pimelodus quadratus",
"Piabucinae rythrinoides",
"Piabucinae longata",
"Phenacogaster prolata",
"Phenacogaster pectinata",
"Phenacogaster ojitata",
"Petitella bleheri",
"Peckoltia bachi",
"Paralithoxus jariensis",
"Paralithoxus bovallii",
"Oxyropsis acutirostris",
"Orestias mundus",
"Odontostilbe stenodon",
"Nannoptopoma sternoptychum",
"Nannoptopoma spectabile",
"Nannacara adoketa",
"Myloplus torquatus",
"Micropoecilia bifurca",
"Metynnis lippincottianus",
"Megalonema amaxanthum",
"Lugubria dandara",
"Loricariichthys cashibo",
"Lipopterichthys carrioni",
"Leporinus yophorus",
"Leporinus torrenticola",
"Leporinus multimaculatus",
"Leporellus vittatus ",
"Laimosemion staecki",
"Knodus smithi",
"Knodus orteguasae",
"Imparfinis parvus",
"Imparfinis longicauda",
"Hypsolebias notatus",
"Hyphessobrycon rosaceus",
"Hyphessobrycon ellisi",
"Heptapterus longicauda",
"Hemidoras stuebelii",
"Hemidoras boulengeri",
"Hemibrycon orcesi",
"Gephyromochlus leopardus",
"Galeocharax gulo",
"Ferrarissoaresia meridionalis",
"Etsaputu relictum",
"Duringlanis perugiae",
"Duringlanis altae",
"Denticetopsis macilenta",
"Dekeyseria scaphirhyncha",
"Corumbataia canoeiro",
"Cordylancistrus platyrhynchus",
"Copella nattereri",
"Compsaraia compsa",
"Charax michaeli",
"Characidium boaevistae",
"Centromochlus musaicus",
"Centromochlus melanoleucus",
"Bujurquina eurhinus",
"Bryconops transitoria",
"Bryconamericus orinocoensis",
"Brachyplatystoma platynema",
"Brachyglanis nocturnus",
"Brachyglanis frenatus",
"Axelrodia lindeae",
"Austrolebias vandenbergi",
"Astyanax xavante",
"Astyanax villwocki",
"Astyanax multidens",
"Astyanax guianensis",
"Astyanax guaporensis",
"Astyanax gandhiae",
"Astyanax fasciatus",
"Astyanax boliviensis",
"Astyanax anterior",
"Astyanax ajuricaba",
"Apionichthys finis",
"Aphyocharax alburnus",
"Aphanotorulus phrixosoma",
"Ancistrus hoplogenys",
"Ancistrus sericeus",
"Ancistrus marcapatae",
"Ageneiosus ucayalensis",
"Ageneiosus apiaka"
)
species_info <- species(c("Trachelyopterus porosus",
"Tatia simplex",
"Tatia reticulata",
"Tatia punctata",
"Symphysodon aequifasciatus",
"Sturisoma caquetae",
"Sternarchorhynchus mesensis",
"Stegostenopos cryptogenes",
"Spectrolebias costai",
"Simpsonichthys multiradiatus",
"Serrapinnus malabarbai",
"Serrapinnus gracilis",
"Sartor tucuruiense",
"Salminus hilarii",
"Rhinotocinclus variola",
"Rhadinoloricaria laani",
"Rhadinoloricaria ommation",
"Rhadinoloricaria condei",
"Pseudopimelodus pulcher",
"Prosomyleus rhomboidalis",
"Potamorrhaphis labiata",
"Polycentrus jundia",
"Poecilia branneri",
"Pnictes asphyxiatus",
"Platydoras birindellii",
"Plagioscions urinamensis",
"Pimelodus quadratus",
"Piabucinae rythrinoides",
"Piabucinae longata",
"Phenacogaster prolata",
"Phenacogaster pectinata",
"Phenacogaster ojitata",
"Petitella bleheri",
"Peckoltia bachi",
"Paralithoxus jariensis",
"Paralithoxus bovallii",
"Oxyropsis acutirostris",
"Orestias mundus",
"Odontostilbe stenodon",
"Nannoptopoma sternoptychum",
"Nannoptopoma spectabile",
"Nannacara adoketa",
"Myloplus torquatus",
"Micropoecilia bifurca",
"Metynnis lippincottianus",
"Megalonema amaxanthum",
"Lugubria dandara",
"Loricariichthys cashibo",
"Lipopterichthys carrioni",
"Leporinus yophorus",
"Leporinus torrenticola",
"Leporinus multimaculatus",
"Leporellus vittatus ",
"Laimosemion staecki",
"Knodus smithi",
"Knodus orteguasae",
"Imparfinis parvus",
"Imparfinis longicauda",
"Hypsolebias notatus",
"Hyphessobrycon rosaceus",
"Hyphessobrycon ellisi",
"Heptapterus longicauda",
"Hemidoras stuebelii",
"Hemidoras boulengeri",
"Hemibrycon orcesi",
"Gephyromochlus leopardus",
"Galeocharax gulo",
"Ferrarissoaresia meridionalis",
"Etsaputu relictum",
"Duringlanis perugiae",
"Duringlanis altae",
"Denticetopsis macilenta",
"Dekeyseria scaphirhyncha",
"Corumbataia canoeiro",
"Cordylancistrus platyrhynchus",
"Copella nattereri",
"Compsaraia compsa",
"Charax michaeli",
"Characidium boaevistae",
"Centromochlus musaicus",
"Centromochlus melanoleucus",
"Bujurquina eurhinus",
"Bryconops transitoria",
"Bryconamericus orinocoensis",
"Brachyplatystoma platynema",
"Brachyglanis nocturnus",
"Brachyglanis frenatus",
"Axelrodia lindeae",
"Austrolebias vandenbergi",
"Astyanax xavante",
"Astyanax villwocki",
"Astyanax multidens",
"Astyanax guianensis",
"Astyanax guaporensis",
"Astyanax gandhiae",
"Astyanax fasciatus",
"Astyanax boliviensis",
"Astyanax anterior",
"Astyanax ajuricaba",
"Apionichthys finis",
"Aphyocharax alburnus",
"Aphanotorulus phrixosoma",
"Ancistrus hoplogenys",
"Ancistrus sericeus",
"Ancistrus marcapatae",
"Ageneiosus ucayalensis",
"Ageneiosus apiaka"
))
species_found <- species_info$Species
species_not_found <- setdiff(species_names, species_found)
species_not_found<-data.frame(species_not_found)
species_not_found
install.packages(c("bayestestR", "commonmark", "correlation", "cowplot", "insight", "nanoarrow", "parameters", "pillar", "Rcpp", "RcppArmadillo", "RPostgreSQL", "shiny", "xlsxjars"))
install.packages(c("betapart", "crul", "data.table", "datawizard", "duckdb", "duckdbfs", "emmeans", "ENMTools", "geomtextpath", "glmnet", "httr2", "modelbased", "pbapply", "pbkrtest", "performance", "purrr", "RPostgreSQL", "rprojroot", "RSQLite", "sdm", "spatstat", "spatstat.explore", "spatstat.geom", "spatstat.linnet", "spatstat.model", "spatstat.univar", "spatstat.utils", "terra", "tmaptools", "udunits2", "waldo"))
remove.packages("purrr")
gc()
gc()
load("D:/OneDrive/Julia_UNESP/Modelagem_Pirarucu/arapaima_result_parte2.RData")
library (sp)
library (raster)
library (maptools)
library (maps)
library (rworldmap)
library (colorRamps)
library (rgdal)
library (ggplot2)
library (rgeos)
library (maps)
library (mapdata)
library (reshape2)
library (ggpubr)
library (grid)
load("D:/OneDrive/Julia_UNESP/Modelagem_Pirarucu/Resultados_modelos/modelo_presente/dados_gerados.RData")
r.spp.pres[r.spp.pres > 0] <- 1
r.spp.pres
r.spp.pres[r.spp.pres > 0] <- 1
# 3.1 - Mudar o tamanho do pixel dos modelos e transformalos em binarios para todos os cenarios
# presente
r.spp.pres<-resample(model.pres,r)
r.spp.pres[r.spp.pres > 0] <- 1
# Cria diretório temporário alternativo
novo_temp <- "D:/temp_r"
dir.create(novo_temp, showWarnings = FALSE, recursive = TRUE)
# Define como diretório temporário
rasterOptions(tmpdir = novo_temp)
terraOptions(tempdir = novo_temp)
r.spp.pres<-resample(model.pres,r)
Sys.setenv(TMP = novo_temp)
Sys.setenv(TEMP = novo_temp)
print(paste("Novo tempdir:", rasterOptions()$tmpdir))
tempdir()
# Cria diretório temporário alternativo
tempdir <- "D:/temp_r"
tempdir()
dir.create("D:/temp_r")
dir.create("D:/temp_R")
dir.create("D:/temp_R_projeto")
tempdir()
file.edit("~/.Renviron")
install.packages(c("afex", "animation", "av", "bayestestR", "BioTIMEr", "broom", "checkmate", "collapse", "colorspace", "cols4all", "credentials", "crosstalk", "curl", "dbplyr", "devtools", "dtplyr", "duckdb", "emmeans", "evaluate", "fields", "forcats", "gargle", "gganimate", "ggeffects", "ggmap", "ggpattern", "ggplot2", "ggsci", "ggspatial", "glmmTMB", "googledrive", "googlesheets4", "insight", "later", "latticeExtra", "leafem", "leaflet", "logger", "magick", "magrittr", "mapview", "Matrix", "modelbased", "nanoarrow", "odbc", "openssl", "osmdata", "parameters", "patchwork", "performance", "pillar", "pkgload", "pROC", "ragg", "RcppArmadillo", "rgbif", "rio", "rmarkdown", "roxygen2", "RPostgreSQL", "rprojroot", "RSQLite", "rvest", "satellite", "see", "spatstat", "spatstat.data", "spatstat.explore", "spatstat.geom", "spatstat.linnet", "spatstat.model", "spatstat.random", "spatstat.utils", "spdep", "stringr", "systemfonts", "terra", "textshaping", "TH.data", "tmap", "tree", "usethis", "V8", "vroom", "xfun", "XML", "xml2"))
install.packages(c("boot", "lattice", "mgcv"))
install.packages("RPostgreSQL")
install.packages("RPostgreSQL")
library(RPostgreSQL)
remove.packages("RPostgreSQL")
file.edit("~/.Renviron")
load("D:/OneDrive/1. Pós-graduação/2. Doutorado/1. Projeto_doutorado_Julia/1. Extracao/Scripts/gbif.r")
load("D:/OneDrive/1. Pós-graduação/2. Doutorado/1. Projeto_doutorado_Julia/1. Extracao/Scripts/result_extracao.RData")
View(interesse)
View(species_info)
setwd("D:/OneDrive/1. Pós-graduação/2. Doutorado/9. Disciplinas/4. Ferramentas computacionais de modelagem")
################33
dengue_sp <- read.csv("dengue_sp.csv")
View(dengue_sp)
################33
dengue_sp <- read.csv2("dengue_sp.csv")
View(dengue_sp)
################33
dengue_sp <- read.csv2("dengue_sp.csv")
View(dengue_sp)
dengue_sp <- dengue_sp%>%
rename(municipio = 1)
library(tidyverse)
dengue_sp <- dengue_sp %>%
rename(municipio = 1)
dengue_sp <- dengue_sp %>%
filter(Município.de.residência != "Total",
Município.de.residência != "&",
!grepl("IGNORADO", Município.de.residência)) # ! significa não
################33
dengue_sp <- read.csv2("dengue_sp.csv")
dengue_sp <- dengue_sp %>%
filter(municipio != "Total",
municipio != "&",
!grepl("IGNORADO", municipio)) # ! significa não
dengue_sp <- dengue_sp %>%
rename(municipio = 1)
dengue_sp <- dengue_sp %>%
filter(municipio != "Total",
municipio != "&",
!grepl("IGNORADO", municipio)) # ! significa não
View(dengue_sp)
dados_ibge <- read.csv2(tabela4709.csv)
dados_ibge <- read.csv2("tabela4709.csv")
dados_ibge <- read.csv2("tabela4709.csv", skip = 3)
View(dados_ibge)
dengue_sp %>%
mutate(codigo = str_extract(municipio, "\\d{6}"))
View(dengue_sp)
dengue_sp <- dengue_sp %>%
mutate(codigo = str_extract(municipio, "\\d{6}"))
dengue_sp <- dengue_sp %>%
mutate(codigo = str_extract(municipio, "\\d{6}"))
View(dengue_sp)
dados_ibge <- dados_ibge %>%
rename(Cod = 1)
dados_ibge <- dados_ibge %>%
mutate(
Cod2 = str_extract(Cod, "^\\d{6}")
)
View(dados_ibge)
## manipulando dengue
glimpse(dengue_sp)
dengue_sp %>%
mutate(across(starts_with("X"), as.integer))
dengue_sp <- dengue_sp %>%
mutate(across(starts_with("X"), as.integer))
View(dengue_sp)
## manipulando dengue
glimpse(dengue_sp)
dengue_sp <- dengue_sp %>%
mutate(across(starts_with("X"), as.integer)) %>% # transformei chr em inteiro.
replace(is.na(.), 0)
dengue_sp %>%
select(-Total) %>%
pivot_longer(2:12, names_to = "Ano", values_to = "Casos")
dengue_sp <- dengue_sp %>%
select(-Total) %>%
pivot_longer(2:12, names_to = "Ano", values_to = "Casos")
dengue_sp %>%
mutate(Ano = str_remove_all(Ano, "\\D"))
dengue_sp %>%
mutate(Ano = str_remove_all(Ano, "\\D")) %>%
mutate(Ano = as.integer(Ano))
dengue_sp <- dengue_sp %>%
mutate(Ano = str_remove_all(Ano, "\\D")) %>%
mutate(Ano = as.integer(Ano))
dados_ibge %>%
select(Cod = Cod2, Inhab = X2022)
dados_ibge %>%
select(Cod = Cod2, Inhab = X2022) %>%
right_join(dengue_sp, by = c("Cod" = "codigo"))
df_final <- dados_ibge %>%
select(Cod = Cod2, Inhab = X2022) %>%
right_join(dengue_sp, by = c("Cod" = "codigo"))
df_final %>%
mutate(
incidencia = Casos/Inhab*10000)
df_final <- df_final %>%
mutate(
incidencia = Casos/Inhab*10000)
View(df_final)
df_final <- df_final %>%
mutate(
incidencia = Casos/Inhab*100000)
ggplot(df_final) +
geom_boxplot(aes(x = factor(Ano,) y = Caso))
ggplot(df_final) +
geom_boxplot(aes(x = factor(Ano,) y = Casos))
ggplot(df_final) +
geom_boxplot(aes(x = factor(Ano,), y = Casos))
ggplot(df_final) +
geom_boxplot(aes(x = factor(Ano), y = incidencia))
